"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createMoodHandler = createMoodHandler;
exports.getMyMoodsHandler = getMyMoodsHandler;
exports.getAllMoodsHandler = getAllMoodsHandler;
exports.getUserMoodsHandler = getUserMoodsHandler;
const moods_service_1 = require("./moods.service");
async function createMoodHandler(request, reply) {
    const user = request.user;
    const mood = await (0, moods_service_1.createMood)(user.sub, request.body);
    return reply.code(201).send(mood);
}
async function getMyMoodsHandler(request, reply) {
    const user = request.user;
    const moods = await (0, moods_service_1.getMoodsByUserId)(user.sub);
    return reply.send(moods);
}
async function getAllMoodsHandler(request, reply) {
    const moods = await (0, moods_service_1.getAllMoods)();
    return reply.send(moods);
}
async function getUserMoodsHandler(request, reply) {
    const { userId } = request.params;
    const moods = await (0, moods_service_1.getMoodsByUserId)(userId);
    return reply.send(moods);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzovVXNlcnMvU2FpZiBBbGkvRG9jdW1lbnRzL0dpdEh1Yi9NZWV0RXpyaS9hcHBzL2FwaS9zcmMvbW9kdWxlcy9tb29kcy9tb29kcy5jb250cm9sbGVyLnRzIiwic291cmNlcyI6WyJDOi9Vc2Vycy9TYWlmIEFsaS9Eb2N1bWVudHMvR2l0SHViL01lZXRFenJpL2FwcHMvYXBpL3NyYy9tb2R1bGVzL21vb2RzL21vb2RzLmNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFJQSw4Q0FPQztBQUVELDhDQU9DO0FBRUQsZ0RBTUM7QUFFRCxrREFPQztBQXBDRCxtREFBNEU7QUFHckUsS0FBSyxVQUFVLGlCQUFpQixDQUNyQyxPQUFrRCxFQUNsRCxLQUFtQjtJQUVuQixNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsSUFBdUIsQ0FBQztJQUM3QyxNQUFNLElBQUksR0FBRyxNQUFNLElBQUEsMEJBQVUsRUFBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BDLENBQUM7QUFFTSxLQUFLLFVBQVUsaUJBQWlCLENBQ3JDLE9BQXVCLEVBQ3ZCLEtBQW1CO0lBRW5CLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUF1QixDQUFDO0lBQzdDLE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBQSxnQ0FBZ0IsRUFBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0MsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUFFTSxLQUFLLFVBQVUsa0JBQWtCLENBQ3RDLE9BQXVCLEVBQ3ZCLEtBQW1CO0lBRW5CLE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBQSwyQkFBVyxHQUFFLENBQUM7SUFDbEMsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUFFTSxLQUFLLFVBQVUsbUJBQW1CLENBQ3ZDLE9BQXVELEVBQ3ZELEtBQW1CO0lBRW5CLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO0lBQ2xDLE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBQSxnQ0FBZ0IsRUFBQyxNQUFNLENBQUMsQ0FBQztJQUM3QyxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZhc3RpZnlSZXBseSwgRmFzdGlmeVJlcXVlc3QgfSBmcm9tIFwiZmFzdGlmeVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVNb29kLCBnZXRNb29kc0J5VXNlcklkLCBnZXRBbGxNb29kcyB9IGZyb20gXCIuL21vb2RzLnNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ3JlYXRlTW9vZElucHV0IH0gZnJvbSBcIi4vbW9vZHMuc2NoZW1hXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTW9vZEhhbmRsZXIoXHJcbiAgcmVxdWVzdDogRmFzdGlmeVJlcXVlc3Q8eyBCb2R5OiBDcmVhdGVNb29kSW5wdXQgfT4sXHJcbiAgcmVwbHk6IEZhc3RpZnlSZXBseVxyXG4pIHtcclxuICBjb25zdCB1c2VyID0gcmVxdWVzdC51c2VyIGFzIHsgc3ViOiBzdHJpbmcgfTtcclxuICBjb25zdCBtb29kID0gYXdhaXQgY3JlYXRlTW9vZCh1c2VyLnN1YiwgcmVxdWVzdC5ib2R5KTtcclxuICByZXR1cm4gcmVwbHkuY29kZSgyMDEpLnNlbmQobW9vZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNeU1vb2RzSGFuZGxlcihcclxuICByZXF1ZXN0OiBGYXN0aWZ5UmVxdWVzdCxcclxuICByZXBseTogRmFzdGlmeVJlcGx5XHJcbikge1xyXG4gIGNvbnN0IHVzZXIgPSByZXF1ZXN0LnVzZXIgYXMgeyBzdWI6IHN0cmluZyB9O1xyXG4gIGNvbnN0IG1vb2RzID0gYXdhaXQgZ2V0TW9vZHNCeVVzZXJJZCh1c2VyLnN1Yik7XHJcbiAgcmV0dXJuIHJlcGx5LnNlbmQobW9vZHMpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsTW9vZHNIYW5kbGVyKFxyXG4gIHJlcXVlc3Q6IEZhc3RpZnlSZXF1ZXN0LFxyXG4gIHJlcGx5OiBGYXN0aWZ5UmVwbHlcclxuKSB7XHJcbiAgY29uc3QgbW9vZHMgPSBhd2FpdCBnZXRBbGxNb29kcygpO1xyXG4gIHJldHVybiByZXBseS5zZW5kKG1vb2RzKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJNb29kc0hhbmRsZXIoXHJcbiAgcmVxdWVzdDogRmFzdGlmeVJlcXVlc3Q8eyBQYXJhbXM6IHsgdXNlcklkOiBzdHJpbmcgfSB9PixcclxuICByZXBseTogRmFzdGlmeVJlcGx5XHJcbikge1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSByZXF1ZXN0LnBhcmFtcztcclxuICBjb25zdCBtb29kcyA9IGF3YWl0IGdldE1vb2RzQnlVc2VySWQodXNlcklkKTtcclxuICByZXR1cm4gcmVwbHkuc2VuZChtb29kcyk7XHJcbn1cclxuIl19