"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createWellnessToolHandler = createWellnessToolHandler;
exports.getWellnessToolsHandler = getWellnessToolsHandler;
exports.getWellnessToolByIdHandler = getWellnessToolByIdHandler;
exports.updateWellnessToolHandler = updateWellnessToolHandler;
exports.deleteWellnessToolHandler = deleteWellnessToolHandler;
const wellness_service_1 = require("./wellness.service");
async function createWellnessToolHandler(request, reply) {
    const tool = await (0, wellness_service_1.createWellnessTool)({
        ...request.body,
        created_by: request.user.id
    });
    return reply.code(201).send(tool);
}
async function getWellnessToolsHandler(request, reply) {
    const tools = await (0, wellness_service_1.getWellnessTools)(request.query.category);
    return reply.send(tools);
}
async function getWellnessToolByIdHandler(request, reply) {
    const tool = await (0, wellness_service_1.getWellnessToolById)(request.params.id);
    if (!tool) {
        return reply.code(404).send({ message: 'Wellness tool not found' });
    }
    return reply.send(tool);
}
async function updateWellnessToolHandler(request, reply) {
    try {
        const tool = await (0, wellness_service_1.updateWellnessTool)(request.params.id, request.body);
        return reply.send(tool);
    }
    catch (error) {
        return reply.code(404).send({ message: 'Wellness tool not found' });
    }
}
async function deleteWellnessToolHandler(request, reply) {
    try {
        await (0, wellness_service_1.deleteWellnessTool)(request.params.id);
        return reply.code(204).send();
    }
    catch (error) {
        return reply.code(404).send({ message: 'Wellness tool not found' });
    }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzovVXNlcnMvU2FpZiBBbGkvRG9jdW1lbnRzL0dpdEh1Yi9NZWV0RXpyaS9hcHBzL2FwaS9zcmMvbW9kdWxlcy93ZWxsbmVzcy93ZWxsbmVzcy5jb250cm9sbGVyLnRzIiwic291cmNlcyI6WyJDOi9Vc2Vycy9TYWlmIEFsaS9Eb2N1bWVudHMvR2l0SHViL01lZXRFenJpL2FwcHMvYXBpL3NyYy9tb2R1bGVzL3dlbGxuZXNzL3dlbGxuZXNzLmNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFJQSw4REFTQztBQUVELDBEQU1DO0FBRUQsZ0VBU0M7QUFFRCw4REFVQztBQUVELDhEQVVDO0FBdkRELHlEQUE4SjtBQUd2SixLQUFLLFVBQVUseUJBQXlCLENBQzdDLE9BQTBELEVBQzFELEtBQW1CO0lBRW5CLE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBQSxxQ0FBa0IsRUFBQztRQUNwQyxHQUFHLE9BQU8sQ0FBQyxJQUFJO1FBQ2YsVUFBVSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtLQUM1QixDQUFDLENBQUM7SUFDSCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BDLENBQUM7QUFFTSxLQUFLLFVBQVUsdUJBQXVCLENBQzNDLE9BQStELEVBQy9ELEtBQW1CO0lBRW5CLE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBQSxtQ0FBZ0IsRUFBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdELE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMzQixDQUFDO0FBRU0sS0FBSyxVQUFVLDBCQUEwQixDQUM5QyxPQUFtRCxFQUNuRCxLQUFtQjtJQUVuQixNQUFNLElBQUksR0FBRyxNQUFNLElBQUEsc0NBQW1CLEVBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDVixPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLHlCQUF5QixFQUFFLENBQUMsQ0FBQztJQUN0RSxDQUFDO0lBQ0QsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFCLENBQUM7QUFFTSxLQUFLLFVBQVUseUJBQXlCLENBQzdDLE9BQWtGLEVBQ2xGLEtBQW1CO0lBRW5CLElBQUksQ0FBQztRQUNILE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBQSxxQ0FBa0IsRUFBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkUsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxDQUFDLENBQUM7SUFDdEUsQ0FBQztBQUNILENBQUM7QUFFTSxLQUFLLFVBQVUseUJBQXlCLENBQzdDLE9BQW1ELEVBQ25ELEtBQW1CO0lBRW5CLElBQUksQ0FBQztRQUNILE1BQU0sSUFBQSxxQ0FBa0IsRUFBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLEVBQUUseUJBQXlCLEVBQUUsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFzdGlmeVJlcGx5LCBGYXN0aWZ5UmVxdWVzdCB9IGZyb20gJ2Zhc3RpZnknO1xuaW1wb3J0IHsgY3JlYXRlV2VsbG5lc3NUb29sLCBkZWxldGVXZWxsbmVzc1Rvb2wsIGdldFdlbGxuZXNzVG9vbEJ5SWQsIGdldFdlbGxuZXNzVG9vbHMsIHVwZGF0ZVdlbGxuZXNzVG9vbCwgdHJhY2tXZWxsbmVzc1Byb2dyZXNzIH0gZnJvbSAnLi93ZWxsbmVzcy5zZXJ2aWNlJztcbmltcG9ydCB7IENyZWF0ZVdlbGxuZXNzVG9vbElucHV0LCBVcGRhdGVXZWxsbmVzc1Rvb2xJbnB1dCwgVHJhY2tQcm9ncmVzc0lucHV0IH0gZnJvbSAnLi93ZWxsbmVzcy5zY2hlbWEnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlV2VsbG5lc3NUb29sSGFuZGxlcihcbiAgcmVxdWVzdDogRmFzdGlmeVJlcXVlc3Q8eyBCb2R5OiBDcmVhdGVXZWxsbmVzc1Rvb2xJbnB1dCB9PixcbiAgcmVwbHk6IEZhc3RpZnlSZXBseVxuKSB7XG4gIGNvbnN0IHRvb2wgPSBhd2FpdCBjcmVhdGVXZWxsbmVzc1Rvb2woe1xuICAgIC4uLnJlcXVlc3QuYm9keSxcbiAgICBjcmVhdGVkX2J5OiByZXF1ZXN0LnVzZXIuaWRcbiAgfSk7XG4gIHJldHVybiByZXBseS5jb2RlKDIwMSkuc2VuZCh0b29sKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFdlbGxuZXNzVG9vbHNIYW5kbGVyKFxuICByZXF1ZXN0OiBGYXN0aWZ5UmVxdWVzdDx7IFF1ZXJ5c3RyaW5nOiB7IGNhdGVnb3J5Pzogc3RyaW5nIH0gfT4sXG4gIHJlcGx5OiBGYXN0aWZ5UmVwbHlcbikge1xuICBjb25zdCB0b29scyA9IGF3YWl0IGdldFdlbGxuZXNzVG9vbHMocmVxdWVzdC5xdWVyeS5jYXRlZ29yeSk7XG4gIHJldHVybiByZXBseS5zZW5kKHRvb2xzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFdlbGxuZXNzVG9vbEJ5SWRIYW5kbGVyKFxuICByZXF1ZXN0OiBGYXN0aWZ5UmVxdWVzdDx7IFBhcmFtczogeyBpZDogc3RyaW5nIH0gfT4sXG4gIHJlcGx5OiBGYXN0aWZ5UmVwbHlcbikge1xuICBjb25zdCB0b29sID0gYXdhaXQgZ2V0V2VsbG5lc3NUb29sQnlJZChyZXF1ZXN0LnBhcmFtcy5pZCk7XG4gIGlmICghdG9vbCkge1xuICAgIHJldHVybiByZXBseS5jb2RlKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdXZWxsbmVzcyB0b29sIG5vdCBmb3VuZCcgfSk7XG4gIH1cbiAgcmV0dXJuIHJlcGx5LnNlbmQodG9vbCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVXZWxsbmVzc1Rvb2xIYW5kbGVyKFxuICByZXF1ZXN0OiBGYXN0aWZ5UmVxdWVzdDx7IFBhcmFtczogeyBpZDogc3RyaW5nIH07IEJvZHk6IFVwZGF0ZVdlbGxuZXNzVG9vbElucHV0IH0+LFxuICByZXBseTogRmFzdGlmeVJlcGx5XG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b29sID0gYXdhaXQgdXBkYXRlV2VsbG5lc3NUb29sKHJlcXVlc3QucGFyYW1zLmlkLCByZXF1ZXN0LmJvZHkpO1xuICAgIHJldHVybiByZXBseS5zZW5kKHRvb2wpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiByZXBseS5jb2RlKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdXZWxsbmVzcyB0b29sIG5vdCBmb3VuZCcgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVdlbGxuZXNzVG9vbEhhbmRsZXIoXG4gIHJlcXVlc3Q6IEZhc3RpZnlSZXF1ZXN0PHsgUGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9PixcbiAgcmVwbHk6IEZhc3RpZnlSZXBseVxuKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGVsZXRlV2VsbG5lc3NUb29sKHJlcXVlc3QucGFyYW1zLmlkKTtcbiAgICByZXR1cm4gcmVwbHkuY29kZSgyMDQpLnNlbmQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVwbHkuY29kZSg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnV2VsbG5lc3MgdG9vbCBub3QgZm91bmQnIH0pO1xuICB9XG59XG4iXX0=